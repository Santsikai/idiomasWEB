"use strict";(self.webpackChunkidiomasWEB=self.webpackChunkidiomasWEB||[]).push([[468],{4468:(y,c,r)=>{r.r(c),r.d(c,{AdministracionModule:()=>v});var h=r(6895),u=r(5861),e=r(4650),A=r(6700),m=r(7676),g=r(2478),f=r(3238),d=r(4006);function _(o,a){if(1&o&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.email," ")}}function q(o,a){if(1&o&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.email," ")}}function C(o,a){if(1&o&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.email," ")}}function N(o,a){if(1&o&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.email," ")}}let B=(()=>{class o{constructor(t){this.userSV=t,this.userNoAdmins=[],this.userNoAdminsFiltered=[],this.userAdmins=[],this.userAdminsFiltered=[],this.userNoBloq=[],this.userNoBloqFiltered=[],this.userBloq=[],this.userBloqFiltered=[]}ngOnInit(){this.getUserBloq(),this.getUserAdmin(),this.getUserNoAdmin(),this.getUserNoBLoq()}onKeyNoBloq(t){this.userBloqFiltered=this.searchNoBloq(t)}searchNoBloq(t){let i=t.toLowerCase();return this.userBloq.filter(n=>n.email.toLowerCase().startsWith(i))}onKeyBloq(t){this.userNoBloqFiltered=this.searchBloq(t)}searchBloq(t){let i=t.toLowerCase();return this.userNoBloq.filter(n=>n.email.toLowerCase().startsWith(i))}onKeyAdmin(t){this.userNoAdminsFiltered=this.searchAdmin(t)}searchAdmin(t){let i=t.toLowerCase();return this.userNoAdmins.filter(n=>n.email.toLowerCase().startsWith(i))}onKeyNoAdmin(t){this.userAdminsFiltered=this.searchNoAdmin(t)}searchNoAdmin(t){let i=t.toLowerCase();return this.userAdmins.filter(n=>n.email.toLowerCase().startsWith(i))}getUserBloq(){var t=this;return(0,u.Z)(function*(){yield t.userSV.getListUsersBloq().subscribe(i=>{t.userBloq=i,t.userBloqFiltered=i})})()}getUserNoBLoq(){var t=this;return(0,u.Z)(function*(){yield t.userSV.getListUsersNoBloq().subscribe(i=>{t.userNoBloq=i,t.userNoBloqFiltered=i})})()}getUserAdmin(){var t=this;return(0,u.Z)(function*(){yield t.userSV.getListUsersAdmin().subscribe(i=>{t.userAdmins=i,t.userAdminsFiltered=i})})()}getUserNoAdmin(){var t=this;return(0,u.Z)(function*(){yield t.userSV.getListUsersNoAdmin().subscribe(i=>{t.userNoAdmins=i,t.userNoAdminsFiltered=i})})()}newAdmin(){var t=this;return(0,u.Z)(function*(){yield t.userSV.createUser(t.newPass,t.newEmail,"1")})()}changeToAdmin(t){this.userSV.AdminUser(t.value.id,"1"),this.adminElegido=""}changeToUser(t){this.userSV.AdminUser(t.value.id,"2"),this.userAdminElegido=""}desbloquear(t){this.userSV.bloquearUser(t.value.id,0),this.userBloqElegido=""}bloquear(t){this.userSV.bloquearUser(t.value.id,1),this.userNoBloqElegido=""}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(A.K))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-administracion"]],decls:26,vars:8,consts:[[3,"ngModel","ngModelChange","selectionChange"],[3,"keyup"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,n){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Administracion"),e.qZA(),e.TgZ(2,"mat-form-field")(3,"mat-label"),e._uU(4,"Bloquear User"),e.qZA(),e.TgZ(5,"mat-select",0),e.NdJ("ngModelChange",function(s){return n.userNoBloqElegido=s})("selectionChange",function(s){return n.bloquear(s)}),e.TgZ(6,"input",1),e.NdJ("keyup",function(s){return n.onKeyBloq(s.target.value)}),e.qZA(),e.YNc(7,_,2,2,"mat-option",2),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10,"Desbloquear User"),e.qZA(),e.TgZ(11,"mat-select",0),e.NdJ("ngModelChange",function(s){return n.userBloqElegido=s})("selectionChange",function(s){return n.desbloquear(s)}),e.TgZ(12,"input",1),e.NdJ("keyup",function(s){return n.onKeyNoBloq(s.target.value)}),e.qZA(),e.YNc(13,q,2,2,"mat-option",2),e.qZA()(),e.TgZ(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Hacer administrador a un usuario"),e.qZA(),e.TgZ(17,"mat-select",0),e.NdJ("ngModelChange",function(s){return n.adminElegido=s})("selectionChange",function(s){return n.changeToAdmin(s)}),e.TgZ(18,"input",1),e.NdJ("keyup",function(s){return n.onKeyAdmin(s.target.value)}),e.qZA(),e.YNc(19,C,2,2,"mat-option",2),e.qZA()(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Deshacer administrador a un usuario"),e.qZA(),e.TgZ(23,"mat-select",0),e.NdJ("ngModelChange",function(s){return n.userAdminElegido=s})("selectionChange",function(s){return n.changeToUser(s)}),e.TgZ(24,"input",1),e.NdJ("keyup",function(s){return n.onKeyNoAdmin(s.target.value)}),e.qZA(),e.YNc(25,N,2,2,"mat-option",2),e.qZA()()),2&i&&(e.xp6(5),e.Q6J("ngModel",n.userNoBloqElegido),e.xp6(2),e.Q6J("ngForOf",n.userNoBloqFiltered),e.xp6(4),e.Q6J("ngModel",n.userBloqElegido),e.xp6(2),e.Q6J("ngForOf",n.userBloqFiltered),e.xp6(4),e.Q6J("ngModel",n.adminElegido),e.xp6(2),e.Q6J("ngForOf",n.userNoAdminsFiltered),e.xp6(4),e.Q6J("ngModel",n.userAdminElegido),e.xp6(2),e.Q6J("ngForOf",n.userAdminsFiltered))},dependencies:[h.sg,m.KE,m.hX,g.gD,f.ey,d.JJ,d.On]})}return o})();var p=r(6360);const T=[{path:"",component:B}];let Z=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(T),p.Bz]})}return o})(),v=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[h.ez,Z,g.LD,m.lN,d.u5]})}return o})()}}]);