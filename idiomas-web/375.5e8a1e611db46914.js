"use strict";(self.webpackChunkidiomasWEB=self.webpackChunkidiomasWEB||[]).push([[375],{2375:(V,p,r)=>{r.r(p),r.d(p,{EditLenguajeModule:()=>x});var u=r(6895),g=r(6360),_=r(5861),c=r(5602),e=r(4650),v=r(2786),C=r(1457),f=r(1184),d=r(4006),m=r(7676),h=r(2478),b=r(3238);function Z(n,s){if(1&n&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function T(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function M(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li"),e._uU(1),e.TgZ(2,"button",0),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.getListPalabras(a))}),e._uU(3,"editar grupo palabra "),e.qZA(),e.TgZ(4,"button",0),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteGV(a.id))}),e._uU(5,"eliminar grupo palabra "),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function j(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",17)(2,"input",14),e.NdJ("ngModelChange",function(i){const l=e.CHM(t).$implicit;return e.KtG(l.col1=i)}),e.qZA()(),e.TgZ(3,"div",17)(4,"input",14),e.NdJ("ngModelChange",function(i){const l=e.CHM(t).$implicit;return e.KtG(l.col2=i)}),e.qZA()(),e.TgZ(5,"div",17)(6,"button",0),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deletepalabra(a.id))}),e._uU(7,"eliminar palabra "),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Q6J("ngModel",t.col1),e.xp6(2),e.Q6J("ngModel",t.col2)}}function J(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.gv.nombre=i)}),e.qZA(),e.TgZ(2,"ul",15)(3,"div",16)(4,"div",17)(5,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.gv.nombre_col1=i)}),e.qZA()(),e.TgZ(6,"div",17)(7,"div",17)(8,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.gv.nombre_col2=i)}),e.qZA()()()(),e.YNc(9,j,8,2,"div",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.gv.nombre),e.xp6(4),e.Q6J("ngModel",t.gv.nombre_col1),e.xp6(3),e.Q6J("ngModel",t.gv.nombre_col2),e.xp6(1),e.Q6J("ngForOf",t.listPalabra)}}const E=function(n){return["/pages/lenguaje",n]},L=[{path:"",component:(()=>{class n{constructor(t,o,i,a,l,A){this.ARoute=t,this.idiomaSV=o,this.palabraSV=i,this.gvSV=a,this.fileSV=l,this.router=A,this.listgv=[],this.listPalabra=[],this.listPalabraCopy=[],this.showEditGV=!1,this.selectedlangs=c.KQ}ngOnInit(){this.id=this.ARoute.snapshot.paramMap.get("lengid").replace(/%20/g," "),this.getListaGV()}onKey(t){this.selectedlangs=this.search(t)}search(t){let o=t.toLowerCase();return c.KQ.filter(i=>i.code.toLowerCase().startsWith(o))}getIdioma(){var t=this;return(0,_.Z)(function*(){t.idioma=yield t.idiomaSV.getIdioma(t.id),t.idiomaCopy={...t.idioma}})()}getListaGV(){this.gvSV.getListGrupoVocabulariobyIdiomaId(this.id).subscribe(t=>{this.getIdioma(),this.listgv=t})}getListPalabras(t){this.gv=t,this.gvCopy={...t},this.palabraSV.getListPalabrabyGvId(t.id).subscribe(o=>{this.listPalabra=JSON.parse(JSON.stringify(o)),this.listPalabraCopy=JSON.parse(JSON.stringify(this.listPalabra)),this.showEditGV=!0})}deleteidioma(){this.idiomaSV.deleteIdioma(this.idioma.id),this.idiomaSV.deleteAllIdiomaUserByIdioma(this.idioma.id),this.router.navigate(["/pages"])}deleteGV(t){this.gvSV.deleteGrupoVocabulario(t)}deletepalabra(t){this.palabraSV.deletePalabra(t)}export(){this.fileSV.getData(this.idioma.id)}guardar(){(this.idioma.nombre!=this.idiomaCopy.nombre||this.idioma.private!=this.idiomaCopy.private)&&(this.idioma.private!=this.idiomaCopy.private&&this.idiomaSV.editIdiomaUserChangePrivacy(this.idioma.id,this.idioma.private),this.idiomaSV.editIdioma(this.idioma.id,this.idioma.nombre,this.idioma.lenguaje,this.idioma.private)),(this.gv.nombre!=this.gvCopy.nombre||this.gv.nombre_col1!=this.gvCopy.nombre_col1||this.gv.nombre_col2!=this.gvCopy.nombre_col2)&&this.gvSV.editGrupoVocabulario(this.gv.id,this.gv.nombre,this.gv.nombre_col1,this.gv.nombre_col2),this.listPalabra.forEach((t,o)=>{(t.col1!=this.listPalabraCopy[o].col1||t.col2!=this.listPalabraCopy[o].col2)&&this.palabraSV.editPalabra(t.id,t.col1,t.col2)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(g.gz),e.Y36(c.Rb),e.Y36(v.f),e.Y36(C.r),e.Y36(f.I),e.Y36(g.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-lenguaje"]],decls:27,vars:11,consts:[[3,"click"],[3,"routerLink"],["type","text","placeholder","nombre lenguaje",3,"ngModel","ngModelChange"],[3,"value","valueChange"],[3,"keyup"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],["id","floats"],["id","listgv"],[4,"ngFor","ngForOf"],["id","editarGV",4,"ngIf"],[3,"value"],["id","editarGV"],["type","text","placeholder","nombregv",3,"ngModel","ngModelChange"],["id","tabla",1,"dark"],[1,"row","header"],[1,"col"],["class","row",4,"ngFor","ngForOf"],[1,"row"]],template:function(o,i){1&o&&(e.TgZ(0,"h1"),e._uU(1,"Editar Lenguaje:"),e.qZA(),e.TgZ(2,"button",0),e.NdJ("click",function(){return i.guardar()}),e._uU(3,"guardar cambios"),e.qZA(),e.TgZ(4,"button",0),e.NdJ("click",function(){return i.deleteidioma()}),e._uU(5,"borrar idioma"),e.qZA(),e.TgZ(6,"button",0),e.NdJ("click",function(){return i.export()}),e._uU(7,"exportar idioma"),e.qZA(),e.TgZ(8,"button",1),e._uU(9,"volver al lenguaje"),e.qZA(),e.TgZ(10,"input",2),e.NdJ("ngModelChange",function(l){return i.idioma.nombre=l}),e.qZA(),e.TgZ(11,"mat-form-field")(12,"mat-label"),e._uU(13,"Selecciona un idioma"),e.qZA(),e.TgZ(14,"mat-select",3),e.NdJ("valueChange",function(l){return i.idioma.lenguaje=l}),e.TgZ(15,"input",4),e.NdJ("keyup",function(l){return i.onKey(l.target.value)}),e.qZA(),e.YNc(16,Z,2,2,"mat-option",5),e.qZA()(),e.TgZ(17,"select",6),e.NdJ("ngModelChange",function(l){return i.idioma.lenguaje=l}),e.YNc(18,T,2,2,"option",5),e.qZA(),e.TgZ(19,"label")(20,"input",7),e.NdJ("ngModelChange",function(l){return!(i.idioma.private=l)}),e.qZA(),e._uU(21," lenguaje privado?\n"),e.qZA(),e.TgZ(22,"div",8)(23,"div",9)(24,"ul"),e.YNc(25,M,6,1,"li",10),e.qZA()(),e.YNc(26,J,10,4,"div",11),e.qZA()),2&o&&(e.xp6(8),e.Q6J("routerLink",e.VKq(9,E,i.idioma.id)),e.xp6(2),e.Q6J("ngModel",i.idioma.nombre),e.xp6(4),e.Q6J("value",i.idioma.lenguaje),e.xp6(2),e.Q6J("ngForOf",i.selectedlangs),e.xp6(1),e.Q6J("ngModel",i.idioma.lenguaje),e.xp6(1),e.Q6J("ngForOf",i.selectedlangs),e.xp6(2),e.Q6J("ngModel",!i.idioma.private),e.xp6(5),e.Q6J("ngForOf",i.listgv),e.xp6(1),e.Q6J("ngIf",i.showEditGV))},dependencies:[u.sg,u.O5,g.rH,d.YN,d.Kr,d.Fj,d.Wl,d.EJ,d.JJ,d.On,m.KE,m.hX,h.gD,b.ey]})}return n})()}];let y=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(L),g.Bz]})}return n})(),x=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[u.ez,y,d.u5,h.LD,m.lN]})}return n})()}}]);